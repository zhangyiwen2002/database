"use strict";(self["webpackChunkdemo"]=self["webpackChunkdemo"]||[]).push([[320],{8320:function(t,e,n){n.r(e),n.d(e,{default:function(){return c}});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"box"},[e("van-list",{attrs:{finished:t.allrecords.finished,"finished-text":"已经到底了哦"},on:{load:t.onLoad},model:{value:t.allrecords.loading,callback:function(e){t.$set(t.allrecords,"loading",e)},expression:"allrecords.loading"}},t._l(t.allrecords.data,(function(n){return e("div",{key:n.id,staticClass:"whole",on:{click:function(e){return t.toDetails(n.id)}}},[e("div",{staticClass:"title"},[t._v(t._s(n.title))]),e("div",{staticClass:"content"},[e("span",{staticClass:"date",domProps:{textContent:t._s(t.getDate(n.date))}}),t._v("| "),e("span",{staticClass:"article ellipsis"},[t._v(t._s(n.content))])])])})),0)],1)},r=[],o=n(6113),i={name:"DemoAllArticles",created(){},data(){return{allrecords:{code:"",data:[],loading:!1,finished:!1,cnt:0}}},mounted(){},methods:{onLoadRecords(t,e){if(console.log(e),t.code=e.data.code,t.loading=!0,200==t.code){t.loading=!1;for(let n=0;n<10;n++)t.data.length<e.data.data.length&&(t.data[t.cnt]=e.data.data[t.cnt],t.cnt++);t.loading=!1,e.data.data.length<=t.data.length?(t.finished=!0,t.cnt=0):t.finished=!1}},onLoad(){setTimeout((()=>{(0,o.T9)().then((t=>{this.onLoadRecords(this.allrecords,t)}))}),1e3)},getDate(t){let e=new Date(t);return e.getFullYear()+"年"+(e.getMonth()+1)+"月"+e.getDate()+"日"},toDetails(t){this.$router.push("/articledetails/"+t)}}},l=i,d=n(1001),s=(0,d.Z)(l,a,r,!1,null,"1de9b0ac",null),c=s.exports},6113:function(t,e,n){n.d(e,{Kp:function(){return l},T9:function(){return o},XP:function(){return d},kl:function(){return s},qM:function(){return c},te:function(){return i}});var a=n(9669),r=n.n(a);function o(){return new Promise(((t,e)=>{r()({method:"get",url:"article/allArticles"}).then((e=>{t(e)})).catch((t=>{e(t)}))}))}function i(t,e){return new Promise(((n,a)=>{r()({method:"get",url:"article/userArticles?userId="+e+"&tag="+t}).then((t=>{n(t)})).catch((t=>{a(t)}))}))}function l(t){return new Promise(((e,n)=>{r()({method:"get",url:"article/searchByName?name="+t}).then((t=>{e(t)})).catch((t=>{n(t)}))}))}function d(t){return new Promise(((e,n)=>{r()({method:"get",url:"article/searchById?id="+t}).then((t=>{e(t)})).catch((t=>{n(t)}))}))}function s(t){return new Promise(((e,n)=>{const a=new URLSearchParams;a.append("id",t),r()({method:"post",url:"article/delete",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:a}).then((t=>{e(t)})).catch((t=>{n(t)}))}))}function c(t,e,n,a,o){o=0==o?0:1;const i=new FormData;i.append("userId",t),i.append("title",e),i.append("content",n);for(let r=0;r<a.length;r++)i.append("file",a[r].file);return 0==a.length&&i.append("file",new File([],"")),i.append("isprivate",o),new Promise(((t,e)=>{r()({method:"post",url:"article/add",data:i}).then((e=>{t(e)})).catch((t=>{e(t)}))}))}r().defaults.baseURL="http://47.92.77.49:8080/",r().defaults.timeout=5e4}}]);
//# sourceMappingURL=320.d154db92.js.map