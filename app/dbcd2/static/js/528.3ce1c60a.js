"use strict";(self["webpackChunkdemo"]=self["webpackChunkdemo"]||[]).push([[528],{9528:function(t,e,a){a.r(e),a.d(e,{default:function(){return u}});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"box"},[e("van-list",{attrs:{finished:t.allrecords.finished,"finished-text":"已经到底了哦"},on:{load:t.onLoad},model:{value:t.allrecords.loading,callback:function(e){t.$set(t.allrecords,"loading",e)},expression:"allrecords.loading"}},t._l(t.allrecords.data,(function(a){return e("div",{key:a.id,staticClass:"whole",on:{click:function(e){return t.toDetails(a.id)}}},[e("div",{staticClass:"title"},[t._v(t._s(a.title))]),e("div",{staticClass:"content"},[e("span",{staticClass:"date",domProps:{textContent:t._s(t.getDate(a.date))}}),t._v("| "),e("span",{staticClass:"article ellipsis"},[t._v(t._s(a.content))])])])})),0)],1)},o=[],s=a(6138),r=a(6113),l={name:"DemoPrivateArticles",created(){},data(){return{allrecords:{code:"",data:[],loading:!1,finished:!1,cnt:0}}},mounted(){},methods:{onLoadRecords(t,e){if(console.log(e),t.code=e.data.code,t.loading=!0,200==t.code){t.loading=!1;for(let a=0;a<10;a++)t.data.length<e.data.data.length&&(t.data[t.cnt]=e.data.data[t.cnt],t.cnt++);t.loading=!1,e.data.data.length<=t.data.length?(t.finished=!0,t.cnt=0):t.finished=!1}},onLoad(){setTimeout((()=>{(0,r.te)(1,s.h.state.id).then((t=>{this.onLoadRecords(this.allrecords,t)}))}),1e3)},getDate(t){let e=new Date(t);return e.getFullYear()+"年"+(e.getMonth()+1)+"月"+e.getDate()+"日"},toDetails(t){this.$router.push("/articledetails/"+t)}}},i=l,d=a(1001),c=(0,d.Z)(i,n,o,!1,null,"7e841828",null),u=c.exports},6113:function(t,e,a){a.d(e,{Kp:function(){return l},T9:function(){return s},XP:function(){return i},kl:function(){return d},qM:function(){return c},te:function(){return r}});var n=a(9669),o=a.n(n);function s(){return new Promise(((t,e)=>{o()({method:"get",url:"article/allArticles"}).then((e=>{t(e)})).catch((t=>{e(t)}))}))}function r(t,e){return new Promise(((a,n)=>{o()({method:"get",url:"article/userArticles?userId="+e+"&tag="+t}).then((t=>{a(t)})).catch((t=>{n(t)}))}))}function l(t){return new Promise(((e,a)=>{o()({method:"get",url:"article/searchByName?name="+t}).then((t=>{e(t)})).catch((t=>{a(t)}))}))}function i(t){return new Promise(((e,a)=>{o()({method:"get",url:"article/searchById?id="+t}).then((t=>{e(t)})).catch((t=>{a(t)}))}))}function d(t){return new Promise(((e,a)=>{const n=new URLSearchParams;n.append("id",t),o()({method:"post",url:"article/delete",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:n}).then((t=>{e(t)})).catch((t=>{a(t)}))}))}function c(t,e,a,n,s){s=0==s?0:1;const r=new FormData;r.append("userId",t),r.append("title",e),r.append("content",a);for(let o=0;o<n.length;o++)r.append("file",n[o].file);return 0==n.length&&r.append("file",new File([],"")),r.append("isprivate",s),new Promise(((t,e)=>{o()({method:"post",url:"article/add",data:r}).then((e=>{t(e)})).catch((t=>{e(t)}))}))}o().defaults.baseURL="http://47.92.77.49:8080/",o().defaults.timeout=5e4},6138:function(t,e,a){a.d(e,{h:function(){return n}});const n={debug:!0,state:{id:null==localStorage.getItem("id")?"":localStorage.getItem("id"),password:null==localStorage.getItem("password")?"":localStorage.getItem("password"),phone:null==localStorage.getItem("phone")?"":localStorage.getItem("phone")},setMessageAction(t,e,a){this.debug&&console.log("setMessageAction triggered with",t),this.state.id=t,this.state.password=e,this.state.phone=a,localStorage.setItem("id",t),localStorage.setItem("phone",a),localStorage.setItem("password",e)},clearMessageAction(){this.debug&&console.log("clearMessageAction triggered"),localStorage.clear(),this.state.id="",this.state.password="",this.state.phone=""}}}}]);
//# sourceMappingURL=528.3ce1c60a.js.map